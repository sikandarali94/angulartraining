<div class="container">
  <div class="row">
    <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
      <!--
      We are recreating this form using the reactive approach.
      -->
      <!--
      We want to synchronize our HTML inputs with our form in our Typescript code. Angular is auto-detecting that
      the form tags below is a form and it creates a form for us. We don't want it to do that. To override this
      behaviour we use formGroup with property binding. This tells Angular to take our form group from the Typescript
      code instead of inferring one or creating a form for us.
      -->
      <!--
      The difference from template driven approach is that we don't need to get a local reference of the form.
      -->
      <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="username">Username</label>
          <!--
          [formGroup] synchronises our HTML form with our Typescript code, however, we need to tell Angular which
          inputs relate to which form controls we defined in our Typescript code. We don't need to use property
          binding because username is a string (we could write [formControlName]="'username'" but this is needlessly
          complicated).
          -->
          <input
            type="text"
            id="username"
            formControlName="username"
            class="form-control">
          <!--
          In the .get method we could either pass a control name or a path to the control (which we will explore later).
          -->
          <span
            *ngIf="!signupForm.get('username').valid && signupForm.get('username').touched"
            class="help-block">Please enter a username!</span>
        </div>
        <div class="form-group">
          <label for="email">email</label>
          <input
            type="text"
            id="email"
            formControlName="email"
            class="form-control">
          <span
            *ngIf="!signupForm.get('email').valid && signupForm.get('email').touched"
            class="help-block">Please enter a valid email!</span>
        </div>
        <div class="radio" *ngFor="let gender of genders">
          <label>
            <input
              type="radio"
              formControlName="gender"
              [value]="gender">{{ gender }}
          </label>
        </div>
        <!--
        For a general form validation message, we don't need the .get() method.
        -->
        <span
          *ngIf="!signupForm.valid && signupForm.touched"
          class="help-block">Please enter valid data!</span>
        <button class="btn btn-primary" type="submit">Submit</button>
      </form>
    </div>
  </div>
</div>
